---
title: "final project"
author: "Jason Tan"
date: "11/2/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
setwd("~/Desktop/STAT425/project/predictingcovid")
```

Reading data in

```{r}
MASK_USE_PATH <- "mask-use-by-county.csv"
MOBILITY_PATH <- "2020_US_Region_Mobility_Report.csv"
PROTEST_PATH <- "protests.csv"

mask_use <- read.csv(MASK_USE_PATH, colClasses = c("COUNTYFP" = "factor"))

mobility <- read.csv(MOBILITY_PATH,
    colClasses = c(
        "country_region_code" = "factor",
        "country_region" = "factor",
        "sub_region_1" = "factor",
        "sub_region_2" = "factor",
        "iso_3166_2_code" = "factor",
        "census_fips_code" = "factor",
        "date" = "Date"
    )
)

mobility %<>%
    group_by(census_fips_code) %>%
    select(-c(
        country_region_code,
        country_region,
        sub_region_1,
        sub_region_2,
        metro_area,
        iso_3166_2_code,
        date
    ))
# %>%
#     summarise(across(.fns = ~ mean(na.omit(.x), na.rm = TRUE)))
```

```{r}
HOME <- "/Users/jason/Desktop/STAT425/project/"

test <- read_csv(str_c(HOME, "US_counties_COVID19_health_weather_data.csv"))
julytest <- test %>% filter(date > dmy("14-07-2020") & date < dmy("27-07-2020"))
write_csv(julytest, "~/Desktop/STAT425/project/US_counties_COVID19_health_weather_data_julyonly.csv")
```

